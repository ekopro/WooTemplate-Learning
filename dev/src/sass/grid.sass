$device-xs: 270px
$device-sm: 768px
$device-md: 992px
$device-lg: 1200px

=colBase($colName,$steps)
  @for $i from 1 to $steps+1
    .#{$colName}-#{$i}
      -ms-flex-preferred-size: percentage(1/$steps * $i)
      flex-basis: percentage(1/$steps * $i)
      max-width: percentage(1/$steps * $i)

.container
  //center block
  margin-right: auto
  margin-left: auto


.row
  // margin not calc
  box-sizing: border-box
  //enable flexbox
  display: -webkit-box
  display: -ms-flexbox
  display: flex
  //flex: none | [ <'flex-grow' scale element> <'flex-shrink'>? || <'flex-basis'> ]
  -webkit-box-flex: 0
  -ms-flex: 0 1 auto
  flex: 0 1 auto
  //flex-direction
  -webkit-box-orient: horizontal
  -webkit-box-direction: normal
  -ms-flex-direction: row
  flex-direction: row
  //wrap
  -ms-flex-wrap: wrap
  flex-wrap: wrap
  //
  margin-right: -0.5rem
  margin-left: -0.5rem

.col-xs,
.col-xs-1,
.col-xs-2,
.col-xs-3,
.col-xs-4,
.col-xs-5,
.col-xs-6
  box-sizing: border-box
  -webkit-box-flex: 0
  -ms-flex: 0 0 auto
  flex: 0 0 auto
  padding-right: 0.5rem
  padding-left: 0.5rem

.col-xs
  -webkit-box-flex: 1
  -ms-flex-positive: 1
  flex-grow: 1
  -ms-flex-preferred-size: 0
  flex-basis: 0
  max-width: 100%

+colBase(col-sm,6)

@media only screen and (min-width: $device-sm)
  .container
    width: $device-sm

  .col-sm,
  .col-sm-1,
  .col-sm-2,
  .col-sm-3,
  .col-sm-4,
  .col-sm-5,
  .col-sm-6
    box-sizing: border-box
    -webkit-box-flex: 0
    -ms-flex: 0 0 auto
    flex: 0 0 auto
    padding-right: 0.5rem
    padding-left: 0.5rem


  .col-sm
    -webkit-box-flex: 1
    -ms-flex-positive: 1
    flex-grow: 1
    -ms-flex-preferred-size: 0
    flex-basis: 0
    max-width: 100%

+colBase(col-sm,6)

@media only screen and (min-width: $device-md)
  .container
    width: $device-md


  .col-md,
  .col-md-1,
  .col-md-2,
  .col-md-3,
  .col-md-4,
  .col-md-5,
  .col-md-6
    box-sizing: border-box
    -webkit-box-flex: 0
    -ms-flex: 0 0 auto
    flex: 0 0 auto
    padding-right: 0.5rem
    padding-left: 0.5rem


  .col-md
    -webkit-box-flex: 1
    -ms-flex-positive: 1
    flex-grow: 1
    -ms-flex-preferred-size: 0
    flex-basis: 0
    max-width: 100%


+colBase(col-md,6)

@media only screen and (min-width: $device-lg)
  .container
    width: $device-lg


  .col-lg,
  .col-lg-1,
  .col-lg-2,
  .col-lg-3,
  .col-lg-4,
  .col-lg-5,
  .col-lg-6
    box-sizing: border-box
    -webkit-box-flex: 0
    -ms-flex: 0 0 auto
    flex: 0 0 auto
    padding-right: 0.5rem
    padding-left: 0.5rem


  .col-lg
    -webkit-box-flex: 1
    -ms-flex-positive: 1
    flex-grow: 1
    -ms-flex-preferred-size: 0
    flex-basis: 0
    max-width: 100%

+colBase(col-lg,6)
